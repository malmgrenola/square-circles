{% extends "base.html" %}
{% load static%}

{% block page_header %}
    <h1>Basket</h1>
{% endblock %}

{% block content %}
 <div class="row justify-content-md-center mx-1">
        <div class="col my-4">
            {% if not basket_items %}
            No Items in basket yet.
            {% endif %}
            <table class="table table-sm table-borderless box sc-table">
                <tbody class="">
                {% for item in basket_items %}
                    <tr class="w-25 sc-row">
                        <td class="py-3">
                        {% if item.product.image %}
                                    <img src="{{ MEDIA_URL }}{{item.product.image}}" alt="{{ item.product.name }} image" class="image-thumbnail">
                                {% else %}
                                    <svg class="bd-placeholder-img image-thumbnail" width="100%" height="250" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Image" preserveAspectRatio="xMidYMid slice" focusable="false">
                                        <rect width="100%" height="100%" fill="#868e96"></rect>
                                        <text x="50%" y="50%" fill="#dee2e6" dy=".3em">Image</text>
                                    </svg>
                                {% endif %}
                        </td>
                        <td class="py-3">
                            <p><strong>{{item.product.name}}</strong></p>
                        </td>
                        <td class="py-3"><p>€ {{item.product.price}}</p></td>
                        <td class="py-3"><p><strong>€ {{item.total}}</strong></p></td>
                        <td class="py-3"><p><a href="{% url 'remove_from_basket' %}"><i class="far fa-times-circle"></i></a></p></td>
                    </tr>
                {% endfor %}
                <tr>
                    <td colspan="3"</td>
                    <td><strong>Grand total</strong></td>
                    <td>{{basket_grand_total}}</td>
                    <td></td>
                </tr>
                </tbody>
            </table>
        </div>
  </div>

{% endblock %}